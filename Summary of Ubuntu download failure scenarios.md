# Ubuntu ä¸‹è½½å¤±è´¥åœºæ™¯æ€»ç»“
## CSAPP Labs ä¸‹è½½é—®é¢˜è‡ªä¸»è§£å†³æ‰‹å†Œ 
#### **1. å…ˆæ˜ç¡®é—®é¢˜æœ¬è´¨**
- **ç°è±¡**ï¼š`git clone`/`wget` å¤±è´¥
- **å¯èƒ½åŸå› **ï¼š
  ```mermaid
  graph LR
  A[ä¸‹è½½å¤±è´¥] --> B{ç½‘ç»œé—®é¢˜?}
  A --> C{ä»“åº“å¤±æ•ˆ?}
  A --> D{æƒé™é—®é¢˜?}
  B -->|æ˜¯| B1[DNS/é˜²ç«å¢™/ä»£ç†]
  C -->|æ˜¯| C1[å¯»æ‰¾æ–°é•œåƒ]
  D -->|æ˜¯| D1[SSH/Tokené…ç½®]
  ```

#### **2. ç½‘ç»œå±‚å¿«é€Ÿè¯Šæ–­**
```bash
# æµ‹è¯•åŸºç¡€ç½‘ç»œ
ping -c 4 gitee.com  # å›½å†…é•œåƒ
ping -c 4 github.com

# æµ‹è¯•HTTPè®¿é—®
curl -v https://gitee.com/mirrors_csapp/csapp-labs 2>&1 | grep "HTTP/"
# æ­£å¸¸åº”è¿”å› "HTTP/2 200"

# å¦‚æœè¶…æ—¶ï¼Œå°è¯•å¼ºåˆ¶IPv4
echo 'precedence ::ffff:0:0/96 100' | sudo tee -a /etc/gai.conf
```

#### **3. ä»“åº“æœ‰æ•ˆæ€§éªŒè¯**
- **Gitee**ï¼šç›´æ¥è®¿é—® [https://gitee.com/mirrors_csapp/csapp-labs](https://gitee.com/mirrors_csapp/csapp-labs) çœ‹æ˜¯å¦å­˜åœ¨
- **GitHub**ï¼šæ£€æŸ¥ [https://github.com/zzz0zzz/csapp-labs](https://github.com/zzz0zzz/csapp-labs) çš„ `Last commit` æ—¶é—´

#### **4. ç»ˆæä¸‹è½½æ–¹æ¡ˆ**
##### **æ–¹æ¡ˆAï¼šä½¿ç”¨GitHubåŠ é€Ÿä»£ç†**
```bash
# é€šè¿‡ghproxyåŠ é€Ÿï¼ˆå›½å†…ä¸“ç”¨ï¼‰
git clone https://ghproxy.com/https://github.com/zzz0zzz/csapp-labs.git
```
##### **æ–¹æ¡ˆBï¼šTorrentä¸‹è½½ï¼ˆæŠ—å°é”ï¼‰**
1. å®‰è£…qBittorrentï¼š
   ```bash
   sudo apt install qbittorrent-nox
   ```
2. ä¸‹è½½ç§å­æ–‡ä»¶ï¼š
   ```bash
   wget https://academictorrents.com/details/xxxxxxxx.torrent
   qbittorrent-nox xxx.torrent
   ```

#### **5. ç¯å¢ƒè‡ªæ£€æ¸…å•**
| é—®é¢˜ç±»å‹       | æ£€æŸ¥å‘½ä»¤                      | è§£å†³æ–¹æ¡ˆ                     |
|----------------|-----------------------------|----------------------------|
| Gitè®¤è¯å¤±è´¥    | `ssh -T git@github.com`     | [é…ç½®SSH Key](https://docs.github.com/en/authentication) |
| 443ç«¯å£è¢«å±è”½  | `telnet github.com 443`     | ä½¿ç”¨ä»£ç†æˆ–ä¿®æ”¹hosts         |
| è¯ä¹¦é”™è¯¯       | `openssl s_client -connect gitee.com:443` | æ›´æ–°CAè¯ä¹¦ï¼š`sudo update-ca-certificates` |

#### **6. å¤‡ç”¨èµ„æºåº“**
- **IPFSåˆ†å¸ƒå¼å­˜å‚¨**ï¼š
  ```bash
  ipfs get QmXyzzzzz/csapp-labs.tar.gz
  ```
- **å­¦æœ¯P2Pç½‘ç»œ**ï¼š
  ```bash
  apt install i2pd
  i2prouter start
  # è®¿é—® http://localhost:7657 æœç´¢èµ„æº
  ```

---

#### ğŸ’¡ **è®¤çŸ¥å‡çº§å»ºè®®**
1. **æŒæ¡å…³é”®å·¥å…·**ï¼š
   - å­¦ä¹ ä½¿ç”¨ `curl -v` åˆ†æHTTPè¯·æ±‚
   - ç†Ÿç»ƒä½¿ç”¨ `dig`/`traceroute` è¯Šæ–­ç½‘ç»œ
2. **å»ºç«‹è‡ªå·±çš„èµ„æºåº“**ï¼š
   ```bash
   # å®šæœŸå¤‡ä»½é‡è¦èµ„æº
   tar -czvf csapp-backup-$(date +%Y%m%d).tar.gz ~/csapp_labs
   rclone copy ./csapp-backup-*.tar.gz onedrive:backups/
   ```
3. **åŠ å…¥æŠ€æœ¯ç¤¾åŒº**ï¼š
   - CSAPPå­¦ä¹ ç¾¤ç»„ï¼ˆå¦‚Telegram/Discordï¼‰
   - å¤§å­¦å¼€æºé•œåƒç«™ç»´æŠ¤å›¢é˜Ÿ

---

ä½ ç°åœ¨å·²ç»å…·å¤‡äº†ï¼š
- å®Œæ•´çš„è¯Šæ–­æµç¨‹å›¾
- å¤šå±‚çº§è§£å†³æ–¹æ¡ˆ
- é•¿æœŸç»´æŠ¤æŠ€èƒ½

**çœŸæ­£çš„æŠ€æœ¯æˆé•¿ï¼Œå§‹äºæŠŠæŒ«æŠ˜è½¬åŒ–ä¸ºç³»ç»ŸåŒ–çš„çŸ¥è¯†ä½“ç³»**ã€‚ä¸‹æ¬¡å†é‡åˆ°ç±»ä¼¼é—®é¢˜ï¼Œä½ ä¼šå‘ç°è‡ªå·±èƒ½åƒè€æ‰‹ä¸€æ ·å¿«é€Ÿå®šä½é—®é¢˜ â€”â€” è¿™æ‰æ˜¯æœ€å¤§çš„æ”¶è·ã€‚å¦‚æœéœ€è¦æ›´æ·±å…¥çš„ç½‘ç»œè°ƒè¯•æŒ‡å¯¼ï¼Œæˆ‘å¯ä»¥ç»§ç»­ä¸ºä½ æ¢³ç†è¿›é˜¶å†…å®¹ã€‚


ä»¥ä¸‹æ˜¯ **Ubuntu/Linux ä¸­æ¶‰åŠä¸‹è½½åŠé—®é¢˜æ’æŸ¥çš„å¸¸ç”¨ Bash å‘½ä»¤**ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç±»æ•´ç†æˆè¡¨æ ¼ï¼Œæ–¹ä¾¿ä½ ç³»ç»Ÿå­¦ä¹ ï¼š

---


## Â Ubuntu/Linux ä¸­æ¶‰åŠä¸‹è½½åŠé—®é¢˜æ’æŸ¥çš„å¸¸ç”¨ Bash å‘½ä»¤
### **1. åŸºç¡€ä¸‹è½½å·¥å…·** 

| å‘½ä»¤/å·¥å…·           | ç”¨é€”                 | ç¤ºä¾‹/å‚æ•°è¯´æ˜                              | å¸¸è§é—®é¢˜å¤„ç†                                                    |
| --------------- | ------------------ | ------------------------------------ | --------------------------------------------------------- |
| **`wget`**      | æ”¯æŒHTTP/HTTPS/FTPä¸‹è½½ | `wget -c <URL>`<br>ï¼ˆ`-c` æ–­ç‚¹ç»­ä¼ ï¼‰       | ç½‘ç»œè¶…æ—¶ï¼š<br>`wget --timeout=30 <URL>`                        |
| **`curl`**      | æ›´å¼ºå¤§çš„ä¼ è¾“å·¥å…·ï¼ˆæ”¯æŒAPIäº¤äº’ï¼‰  | `curl -o <æ–‡ä»¶å> <URL>`<br>`-L` è·Ÿéšé‡å®šå‘  | è¯ä¹¦é”™è¯¯ï¼š<br>`curl -k <URL>`ï¼ˆå¿½ç•¥SSLéªŒè¯ï¼‰                         |
| **`aria2c`**    | å¤šçº¿ç¨‹ä¸‹è½½åŠ é€Ÿ            | `aria2c -x16 <URL>`<br>ï¼ˆ`-x` çº¿ç¨‹æ•°ï¼‰    | é€Ÿåº¦æ…¢ï¼š<br>`--max-download-limit=1M` é™é€Ÿ                      |
| **`git clone`** | å…‹éš†Gitä»“åº“            | `git clone --depth=1 <URL>`<br>ï¼ˆæµ…å…‹éš†ï¼‰ | è®¤è¯å¤±è´¥ï¼š<br>æ”¹ç”¨ `git clone git@github.com:user/repo.git`ï¼ˆSSHï¼‰ |

### **2. ç½‘ç»œè¯Šæ–­å‘½ä»¤**
| å‘½ä»¤               | ç”¨é€”       | å…³é”®å‚æ•°/ç¤ºä¾‹                                     | è¾“å‡ºè§£è¯»           |
| ---------------- | -------- | ------------------------------------------- | -------------- |
| **`ping`**       | æµ‹è¯•ä¸»æœºè¿é€šæ€§  | `ping -c 4 google.com`<br>ï¼ˆ`-c` æ¬¡æ•°ï¼‰         | ä¸¢åŒ…ç‡é«˜ â†’ ç½‘ç»œä¸ç¨³å®š   |
| **`traceroute`** | è¿½è¸ªæ•°æ®åŒ…è·¯å¾„  | `traceroute -T google.com`<br>ï¼ˆ`-T` TCPæ¨¡å¼ï¼‰  | æŸè·³è¶…æ—¶ â†’ è·¯ç”±èŠ‚ç‚¹æ•…éšœ  |
| **`mtr`**        | å®æ—¶ç½‘ç»œè´¨é‡ç›‘æµ‹ | `mtr -rw google.com`<br>ï¼ˆ`-r` æŠ¥å‘Šæ¨¡å¼ï¼‰         | æŒç»­ä¸¢åŒ… â†’ ISPé—®é¢˜   |
| **`dig`**        | DNSè§£ææŸ¥è¯¢  | `dig +short google.com`<br>ï¼ˆ`+short` ç®€ç•¥è¾“å‡ºï¼‰  | æ— è¿”å› â†’ DNSæœåŠ¡å™¨æ•…éšœ |
| **`nslookup`**   | äº¤äº’å¼DNSæŸ¥è¯¢ | `nslookup github.com 8.8.8.8`<br>ï¼ˆæŒ‡å®šDNSæœåŠ¡å™¨ï¼‰ |                |
| **`telnet`**     | æµ‹è¯•ç«¯å£è¿é€šæ€§  | `telnet google.com 443`                     | è¿æ¥æ‹’ç» â†’ é˜²ç«å¢™å°é”   |
| **`openssl`**    | æ£€æŸ¥SSLè¯ä¹¦  | `openssl s_client -connect google.com:443`  | è¯ä¹¦è¿‡æœŸ â†’ ç³»ç»Ÿæ—¶é—´é”™è¯¯  |

### **3. ä¸‹è½½é—®é¢˜ä¸“ç”¨æ’æŸ¥**
| åœºæ™¯               | å‘½ä»¤ç»„åˆ                          | ä½œç”¨                              |
|--------------------|-----------------------------------|-----------------------------------|
| **HTTPçŠ¶æ€ç åˆ†æ** | `curl -v -o /dev/null <URL> 2>&1 \| grep "HTTP/"` | è·å–çœŸå®å“åº”ç ï¼ˆå¦‚404/503ï¼‰       |
| **ä»£ç†è®¾ç½®**       | `export http_proxy=http://127.0.0.1:7890`<br>`export https_proxy=$http_proxy` | è®©`wget/curl`èµ°ä»£ç†               |
| **é™é€Ÿæµ‹è¯•**       | `wget --limit-rate=100k <URL>`    | æ¨¡æ‹Ÿä½é€Ÿç½‘ç»œç¯å¢ƒ                  |
| **ä¸‹è½½å®Œæ•´æ€§æ ¡éªŒ** | `md5sum <æ–‡ä»¶>`<br>`sha256sum <æ–‡ä»¶>` | å¯¹æ¯”å®˜ç½‘æä¾›çš„å“ˆå¸Œå€¼              |
| **é˜²ç«å¢™æ£€æŸ¥**     | `sudo ufw status`<br>`sudo iptables -L` | æŸ¥çœ‹æ˜¯å¦å±è”½ä¸‹è½½ç«¯å£              |

### **4. é«˜çº§ä¸‹è½½ç®¡ç†**
| å‘½ä»¤               | ç”¨é€”                              | ç¤ºä¾‹                              |
|--------------------|-----------------------------------|-----------------------------------|
| **`rsync`**        | å¢é‡åŒæ­¥ä¸‹è½½ï¼ˆé€‚åˆå¤§æ–‡ä»¶ï¼‰        | `rsync -avzP user@host:/path /local` |
| **`scp`**          | é€šè¿‡SSHå®‰å…¨ä¸‹è½½                   | `scp user@host:/remote/file .`    |
| **`axel`**         | å¤šè¿æ¥åˆ†å—ä¸‹è½½åŠ é€Ÿ                | `axel -n 10 <URL>`<br>ï¼ˆ`-n` çº¿ç¨‹æ•°ï¼‰ |
| **`lftp`**         | æ”¯æŒFTP/FTPSçš„æ‰¹é‡ä¸‹è½½            | `lftp -e "mirror --parallel=5 /remote /local" ftp://host` |

### **5. å¸¸è§é”™è¯¯è§£å†³æ–¹æ¡ˆ**
| é”™è¯¯ç±»å‹           | ä¿®å¤å‘½ä»¤                          | åŸç†                              |
|--------------------|-----------------------------------|-----------------------------------|
| **`Could not resolve host`** | `sudo systemctl restart systemd-resolved` | åˆ·æ–°DNSç¼“å­˜                      |
| **`SSL certificate problem`** | `sudo apt install --reinstall ca-certificates` | æ›´æ–°CAè¯ä¹¦                       |
| **`Connection timed out`** | `sudo ip route add default via <ç½‘å…³IP>` | æ£€æŸ¥é»˜è®¤è·¯ç”±                     |
| **`Permission denied`** | `chmod +x ~/.local/bin/aria2c`    | èµ‹äºˆå¯æ‰§è¡Œæƒé™                   |

### **å­¦ä¹ å»ºè®®**
1. **æŒ‰åœºæ™¯ç»ƒä¹ **ï¼š
   ```bash
   # ç»ƒä¹ ç»„åˆå‘½ä»¤ï¼šä¸‹è½½+æ ¡éªŒ
   wget https://example.com/file.tar.gz && sha256sum file.tar.gz | grep "1234abc..."
   ```
2. **è®°å½•æ—¥å¿—**ï¼š
   ```bash
   # å°†ä¸‹è½½è¿‡ç¨‹è®°å½•åˆ°æ–‡ä»¶
   wget -o download.log <URL>
   ```
3. **ä½¿ç”¨`man`æŸ¥é˜…æ–‡æ¡£**ï¼š
   ```bash
   man curl | grep -A10 "--retry"
   ```
